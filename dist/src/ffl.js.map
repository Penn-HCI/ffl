{"version":3,"file":"ffl.js","sourceRoot":"","sources":["../../src/ffl.ts"],"names":[],"mappings":"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"}